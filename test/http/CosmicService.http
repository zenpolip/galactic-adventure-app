# Generated by CDS CLI / $ cds add http

@server = http://localhost:4004
@authAdmin = Authorization: Basic alice:
@authViewer = Authorization: Basic bob:
@spacefarers_ID = {{ Spacefarers_GET.response.body.value[0].ID }}
@spacefarers_new_ID = {{ Spacefarers_POST.response.body.ID }}

### Spacefarers
# @name Spacefarers_GET
# @description Get all Spacefarers 
GET {{server}}/odata/v4/cosmic/Spacefarers?$count=true
{{authAdmin}}


### Spacefarers
# @name Spacefarers_GET_BY_ID
# @description Get a Spacefarer by ID
GET {{server}}/odata/v4/cosmic/Spacefarers({{spacefarers_ID}})
{{authAdmin}}


### Spacefarers
# @name Spacefarers_POST
# @description Create a Spacefarer with Admin Authorization
POST {{server}}/odata/v4/cosmic/Spacefarers
Content-Type: application/json
{{authAdmin}}

{
  "name": "Zero",
  "originPlanet": "Planet-22408748",
  "spacesuitColor": "black",
  "stardustCollection": 18,
  "wormholeNavSkill": "Beginner",
  "department_ID": "c716c584-6f5e-4f08-ae1a-2109d58d2ca3",
  "position_ID": "34e28c85-7426-4fff-a71b-e18dc39a986e"
}


### Spacefarers
# @name Spacefarers_PATCH
# @description Update a Spacefarer with Admin Authorization
PATCH {{server}}/odata/v4/cosmic/Spacefarers({{spacefarers_new_ID}})
Content-Type: application/json
{{authAdmin}}

# Update Zero's spacesuitColor to white
{
  "name": "Zero",
  "originPlanet": "Planet-22408748",
  "spacesuitColor": "white",
  "stardustCollection": 18,
  "wormholeNavSkill": "Beginner",
  "department_ID": "c716c584-6f5e-4f08-ae1a-2109d58d2ca3",
  "position_ID": "34e28c85-7426-4fff-a71b-e18dc39a986e"
}


### Spacefarers
# @name Spacefarers_DELETE
# @description Delete a Spacefarer with Admin Authorization
DELETE {{server}}/odata/v4/cosmic/Spacefarers({{spacefarers_new_ID}})
Content-Type: application/json
{{authAdmin}}


### Spacefarers
# @name Spacefarers_GET_AUTH_VIEWER
# @description Get all Spacefarers with Viewer Authorization
GET {{server}}/odata/v4/cosmic/Spacefarers?$count=true
{{authViewer}}


### Spacefarers
# @name Spacefarers_DELETE_FORBIDDEN
# @description Demonstrate forbidden deleting a Spacefarer with Viewer Authorization
DELETE {{server}}/odata/v4/cosmic/Spacefarers({{spacefarers_new_ID}})
Content-Type: application/json
{{authViewer}}
